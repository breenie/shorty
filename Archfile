platform: php-5.5

settings:
  serve_static_files: false
  document_root: 'web'
  sleep_inactive_processes: false

processes:
  # This is an array containing all the process types which should
  # be configured for the application.
  -
    # The name of the process type
    name: 'web'
    # The amount of memory which should be allocated.
    # Should be any of standard, large or xlarge.
    memory: 'standard'
    # Set the command which should be executed
    command: 'bundle exec rackup -p $PORT'
    # Set the number of times this process should run
    quantity: 1
    # Set whether or not this process should receive traffic from the proxies
    public: true
    # Set the length of time which should be waited before forcefully
    # killing a process which has been requested to be stopped (in seconds)
    kill_after: 3600
    # Set the method of determining if the process has started or not
    start_monitor:
      # Set the module to use
      # Should be one of none, httpcheck, timer or log_string
      module: 'httpcheck'
      # Set the string to look for (only applicable to log_string module)
      string: 'Successfully started'
      # Set the length of time to wait (only applicable to timer module)
      timer: 30

environment_variables:
  # This is an array containing the environment variables which are needed
  # for this application.
  -
    key: 'BUILDPACK_URL'
    value: 'https://github.com/ddollar/heroku-buildpack-multi.git'
